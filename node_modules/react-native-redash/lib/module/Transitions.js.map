{"version":3,"sources":["Transitions.ts"],"names":["useMemo","Animated","Easing","State","bin","Value","cond","eq","block","set","Clock","spring","startClock","timing","neq","useCode","SpringUtils","defaultSpringConfig","makeDefaultConfig","withTransition","value","timingConfig","gestureState","UNDETERMINED","clock","state","finished","frameTime","position","time","config","toValue","duration","easing","linear","ACTIVE","withSpringTransition","springConfig","velocity","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","withTimingTransition","useTransition","transition","useSpringTransition","useTimingTransition"],"mappings":"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","sourcesContent":["import { useMemo } from \"react\";\nimport Animated, { Easing } from \"react-native-reanimated\";\nimport { State } from \"react-native-gesture-handler\";\n\nimport { bin } from \"./Math\";\nimport { SpringConfig, TimingConfig } from \"./Animations\";\n\nconst {\n  Value,\n  cond,\n  eq,\n  block,\n  set,\n  Clock,\n  spring,\n  startClock,\n  timing,\n  neq,\n  useCode,\n  SpringUtils,\n} = Animated;\n\nconst defaultSpringConfig = SpringUtils.makeDefaultConfig();\n\nexport const withTransition = (\n  value: Animated.Node<number>,\n  timingConfig: TimingConfig = {},\n  gestureState: Animated.Value<State> = new Value(State.UNDETERMINED)\n) => {\n  const clock = new Clock();\n  const state = {\n    finished: new Value(0),\n    frameTime: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  };\n  const config = {\n    toValue: new Value(0),\n    duration: 250,\n    easing: Easing.linear,\n    ...timingConfig,\n  };\n  return block([\n    startClock(clock),\n    cond(neq(config.toValue, value), [\n      set(state.frameTime, 0),\n      set(state.time, 0),\n      set(state.finished, 0),\n      set(config.toValue, value),\n    ]),\n    cond(\n      eq(gestureState, State.ACTIVE),\n      [set(state.position, value)],\n      timing(clock, state, config)\n    ),\n    state.position,\n  ]);\n};\n\nexport const withSpringTransition = (\n  value: Animated.Node<number>,\n  springConfig: SpringConfig = defaultSpringConfig,\n  velocity: Animated.Adaptable<number> = 0,\n  gestureState: Animated.Value<State> = new Value(State.UNDETERMINED)\n) => {\n  const clock = new Clock();\n  const state = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  };\n  const config = {\n    toValue: new Value(0),\n    damping: 15,\n    mass: 1,\n    stiffness: 150,\n    overshootClamping: false,\n    restSpeedThreshold: 1,\n    restDisplacementThreshold: 1,\n    ...springConfig,\n  };\n  return block([\n    startClock(clock),\n    set(config.toValue, value),\n    cond(\n      eq(gestureState, State.ACTIVE),\n      [set(state.velocity, velocity), set(state.position, value)],\n      spring(clock, state, config)\n    ),\n    state.position,\n  ]);\n};\n\nexport const withTimingTransition = withTransition;\n\nexport const useTransition = (\n  state: boolean | number,\n  config: TimingConfig = {}\n) => {\n  const value = useMemo(() => new Value(0), []);\n  useCode(() => set(value, typeof state === \"boolean\" ? bin(state) : state), [\n    state,\n    value,\n  ]);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const transition = useMemo(() => withTransition(value, config), []);\n  return transition;\n};\n\nexport const useSpringTransition = (\n  state: boolean | number,\n  config: SpringConfig = defaultSpringConfig\n) => {\n  const value = useMemo(() => new Value(0), []);\n  useCode(() => set(value, typeof state === \"boolean\" ? bin(state) : state), [\n    state,\n    value,\n  ]);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const transition = useMemo(() => withSpringTransition(value, config), []);\n  return transition;\n};\n\nexport const useTimingTransition = useTransition;\n"]}